"use strict";(globalThis["webpackChunkcontactlistsystem"]=globalThis["webpackChunkcontactlistsystem"]||[]).push([[738],{7738:(e,l,a)=>{a.r(l),a.d(l,{default:()=>C});a(9665);var u=a(9835),o=a(6970),t=a(6827),s=a(3703),n=a(8339),c=a(8109),i=a(558),r=a(499);const d={class:"text-center q-pt-lg"},m={class:"col text-h6 ellipsis"},p={class:"justify-between row q-gutter-xs"},v={__name:"LoginPage",setup(e){const l=(0,n.tv)(),a=(0,u.FN)().appContext.config.globalProperties,v=(0,r.iH)(""),g=(0,r.iH)(""),y=(0,r.iH)(""),b=(0,r.iH)(""),w=(0,r.iH)(""),f=(0,r.iH)(""),h=(0,r.iH)(!1);async function k(){(0,i.e5)(a.$auth,w.value,f.value).then((e=>{const l=e.user;console.log("user",l),V(l)})).catch((e=>{e.code,e.message;console.log("error",e)}))}async function q(){(0,i.Xb)(a.$auth,w.value,f.value).then((e=>{const l=e.user;console.log("user",l),_(l)})).catch((e=>{e.code,e.message;console.log("error",e)}))}async function V(e){console.log("user",e);const l=(0,c.JU)(a.$db,"users",e.uid),u=await(0,c.QT)(l);u.exists()?(console.log("Document data:",u.data()),t.Z.create({type:"positive",message:"Success!"}),W(u.data())):(_(e),console.log("No such document!"))}async function _(e){const l={name:v.value,position:"user",avatar:`https://robohash.org/${v.value}`,email:w.value,company_email:w.value,website:g.value,phone:y.value,secondary_phone:y.value,address:b.value,uid:e.uid},u=(0,c.JU)(a.$db,"users",e.uid);await(0,c.pl)(u,l,{merge:!0}),W(l),t.Z.create({type:"positive",message:"Success!"})}function W(e){s.Z.set("user",e),l.push("/")}return(e,l)=>{const a=(0,u.up)("q-icon"),t=(0,u.up)("q-avatar"),s=(0,u.up)("q-card-section"),n=(0,u.up)("q-input"),c=(0,u.up)("q-btn"),i=(0,u.up)("q-form"),r=(0,u.up)("q-card"),V=(0,u.up)("q-page"),_=(0,u.up)("q-page-container"),W=(0,u.up)("q-layout");return(0,u.wg)(),(0,u.j4)(W,null,{default:(0,u.w5)((()=>[(0,u.Wm)(_,null,{default:(0,u.w5)((()=>[(0,u.Wm)(V,{class:"flex bg-image flex-center"},{default:(0,u.w5)((()=>[(0,u.Wm)(r,{style:(0,o.j5)(e.$q.screen.lt.sm?{width:"80%"}:{width:"30%"})},{default:(0,u.w5)((()=>[(0,u.Wm)(s,null,{default:(0,u.w5)((()=>[(0,u.Wm)(t,{size:"103px",class:"absolute-center bg-primary shadow-10"},{default:(0,u.w5)((()=>[(0,u.Wm)(a,{name:"contact_phone",color:"white"})])),_:1})])),_:1}),(0,u.Wm)(s,null,{default:(0,u.w5)((()=>[(0,u._)("div",d,[(0,u._)("div",m,(0,o.zw)(h.value?"Sign up":"Log in"),1)])])),_:1}),(0,u.Wm)(s,null,{default:(0,u.w5)((()=>[(0,u.Wm)(i,{class:"q-gutter-md"},{default:(0,u.w5)((()=>[h.value?((0,u.wg)(),(0,u.j4)(n,{key:0,filled:"",modelValue:v.value,"onUpdate:modelValue":l[0]||(l[0]=e=>v.value=e),label:"Name","lazy-rules":""},null,8,["modelValue"])):(0,u.kq)("",!0),h.value?((0,u.wg)(),(0,u.j4)(n,{key:1,filled:"",modelValue:g.value,"onUpdate:modelValue":l[1]||(l[1]=e=>g.value=e),label:"Website","lazy-rules":""},null,8,["modelValue"])):(0,u.kq)("",!0),h.value?((0,u.wg)(),(0,u.j4)(n,{key:2,filled:"",modelValue:y.value,"onUpdate:modelValue":l[2]||(l[2]=e=>y.value=e),label:"Phone","lazy-rules":""},null,8,["modelValue"])):(0,u.kq)("",!0),h.value?((0,u.wg)(),(0,u.j4)(n,{key:3,filled:"",modelValue:b.value,"onUpdate:modelValue":l[3]||(l[3]=e=>b.value=e),label:"Address","lazy-rules":""},null,8,["modelValue"])):(0,u.kq)("",!0),(0,u.Wm)(n,{filled:"",modelValue:w.value,"onUpdate:modelValue":l[4]||(l[4]=e=>w.value=e),label:"Email","lazy-rules":""},null,8,["modelValue"]),(0,u.Wm)(n,{type:"password",filled:"",modelValue:f.value,"onUpdate:modelValue":l[5]||(l[5]=e=>f.value=e),label:"Password","lazy-rules":""},null,8,["modelValue"]),(0,u._)("div",p,[(0,u.Wm)(c,{outline:"",onClick:l[6]||(l[6]=e=>h.value=!h.value),label:h.value?"Go back to login":"Create an account",type:"button",color:"primary"},null,8,["label"]),h.value?((0,u.wg)(),(0,u.j4)(c,{key:0,onClick:l[7]||(l[7]=e=>q()),label:"Register",type:"button",color:"primary"})):((0,u.wg)(),(0,u.j4)(c,{key:1,onClick:l[8]||(l[8]=e=>k()),label:"Login",type:"button",color:"primary"}))])])),_:1})])),_:1})])),_:1},8,["style"])])),_:1})])),_:1})])),_:1})}}};var g=a(7605),y=a(2133),b=a(9885),w=a(4458),f=a(3190),h=a(1357),k=a(2857),q=a(8326),V=a(2543),_=a(8879),W=a(9984),Z=a.n(W);const Q=v,C=Q;Z()(v,"components",{QLayout:g.Z,QPageContainer:y.Z,QPage:b.Z,QCard:w.Z,QCardSection:f.Z,QAvatar:h.Z,QIcon:k.Z,QForm:q.Z,QInput:V.Z,QBtn:_.Z})}}]);