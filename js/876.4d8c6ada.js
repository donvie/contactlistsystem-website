"use strict";(globalThis["webpackChunkcontactlistsystem"]=globalThis["webpackChunkcontactlistsystem"]||[]).push([[876],{3876:(e,l,a)=>{a.r(l),a.d(l,{default:()=>se});a(9665);var t=a(9835),o=a(6970),n=a(6827);function u(e,l,a,n,u,s){const i=(0,t.up)("q-avatar"),c=(0,t.up)("q-item-section"),d=(0,t.up)("q-item-label"),r=(0,t.up)("q-item"),m=(0,t.Q2)("ripple");return(0,t.wy)(((0,t.wg)(),(0,t.j4)(r,{clickable:""},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{avatar:"",top:""},{default:(0,t.w5)((()=>[(0,t.Wm)(i,{icon:e.icon,color:"grey-2","text-color":e.text_color},null,8,["icon","text-color"])])),_:1}),(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t.Wm)(d,{lines:"1"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.value),1)])),_:1}),(0,t.Wm)(d,{caption:"",class:"text-grey-8"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.label),1)])),_:1})])),_:1})])),_:1})),[[m]])}const s=(0,t.aZ)({name:"ContactDetailItem",props:["icon","text_color","value","label"]});var i=a(1639),c=a(490),d=a(1233),r=a(1357),m=a(3115),p=a(1136),f=a(9984),w=a.n(f);const v=(0,i.Z)(s,[["render",u]]),_=v;w()(s,"components",{QItem:c.Z,QItemSection:d.Z,QAvatar:r.Z,QItemLabel:m.Z}),w()(s,"directives",{Ripple:p.Z});const b=["src"],g={class:"text-weight-bold"};function W(e,l,a,n,u,s){const i=(0,t.up)("q-avatar"),c=(0,t.up)("q-item-section"),d=(0,t.up)("q-item-label"),r=(0,t.up)("q-item");return(0,t.wg)(),(0,t.j4)(r,{clickable:""},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{avatar:""},{default:(0,t.w5)((()=>[(0,t.Wm)(i,null,{default:(0,t.w5)((()=>[(0,t._)("img",{src:e.avatar},null,8,b)])),_:1})])),_:1}),(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t.Wm)(d,{lines:"1"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.name),1)])),_:1}),(0,t.Wm)(d,{caption:"",lines:"2"},{default:(0,t.w5)((()=>[(0,t._)("span",g,(0,o.zw)(e.position),1)])),_:1})])),_:1})])),_:1})}const k=(0,t.aZ)({name:"ContactItem",props:["avatar","name","position"]}),q=(0,i.Z)(k,[["render",W]]),y=q;w()(k,"components",{QItem:c.Z,QItemSection:d.Z,QAvatar:r.Z,QItemLabel:m.Z});var h=a(3703),Z=a(8109),Q=a(499),U=a(9302);const x={class:"row q-col-gutter-sm"},C={class:"col-lg-4 col-md-4 col-sm-12 col-xs-12"},D=["onClick"],I=["onClick"],V=["onClick"],z={key:0,class:"col-lg-8 q-pl-xs col-md-8 col-sm-12 col-xs-12"},F=["src"],P={class:"text-weight-bold"},j={__name:"IndexPage",setup(e){const l=[{icon:"phone",label:"Phone",field:"phone",text_color:"blue"},{icon:"phone_iphone",label:"Secondary Phone",field:"secondary_phone",text_color:"orange"},{icon:"mail",label:"Personal Email",field:"email",text_color:"grey-8"},{icon:"business_center",label:"Company Email",field:"company_email",text_color:"grey-8"},{icon:"location_on",label:"Address",field:"address",text_color:"grey-8"},{icon:"home_work",label:"Website",field:"website",text_color:"grey-8"}],a=(0,Q.iH)([]),u=(0,Q.iH)([]),s=(0,Q.iH)([]),i=(0,Q.iH)(!1),c=(0,t.FN)().appContext.config.globalProperties,d=(0,Q.iH)(h.Z.getItem("user")),r=((0,U.Z)(),(0,Q.iH)("all")),m=(0,Q.iH)({});async function p(){const e=await(0,Z.PL)((0,Z.IO)((0,Z.hJ)(c.$db,"users"),(0,Z.ar)("uid","!=",d.value.uid),(0,Z.ar)("position","==","user")));e.forEach((e=>{a.value.push(e.data())})),m.value=a.value[0]}async function f(){const e=await(0,Z.PL)((0,Z.IO)((0,Z.hJ)(c.$db,`users/${d.value.uid}/friends`),(0,Z.ar)("status","==","Friend Request")));e.forEach((e=>{const l={docID:e.id};u.value.push(Object.assign({},l,e.data()))}))}async function w(){const e=await(0,Z.PL)((0,Z.IO)((0,Z.hJ)(c.$db,`users/${d.value.uid}/friends`),(0,Z.ar)("status","==","Accepted")));e.forEach((e=>{const l={docID:e.id};s.value.push(Object.assign({},l,e.data()))}))}async function v(e){console.log("user",e),await(0,Z.oe)((0,Z.JU)(c.$db,"users",e.uid)),n.Z.create({type:"positive",message:"Deleted!"})}async function b(e){e.status="Friend Request";const l=await(0,Z.ET)((0,Z.hJ)(c.$db,`users/${e.uid}/friends`),e);console.log("Document written with ID: ",l.id),n.Z.create({type:"positive",message:"Success!"})}async function g(e){const l=(0,Z.JU)(c.$db,"users",e.uid,"friends",e.docID);(0,Z.pl)(l,{status:"Accepted"},{merge:!0}),n.Z.create({type:"positive",message:"Success!"})}async function W(e){const l=(0,Z.JU)(c.$db,"users",e.uid,"friends",e.docID);(0,Z.pl)(l,{status:""},{merge:!0}),n.Z.create({type:"positive",message:"Success!"})}function k(){console.log("selected_contact",m.value);const e=(0,Z.JU)(c.$db,"users",m.value.uid);(0,Z.pl)(e,m.value,{merge:!0}),n.Z.create({type:"positive",message:"Success!"})}return(0,t.bv)((()=>{p(),f(),w()})),(e,n)=>{const c=(0,t.up)("q-tab"),p=(0,t.up)("q-badge"),f=(0,t.up)("q-tabs"),w=(0,t.up)("q-item-label"),q=(0,t.up)("q-list"),h=(0,t.up)("q-tab-panel"),Z=(0,t.up)("q-tab-panels"),Q=(0,t.up)("q-card"),U=(0,t.up)("q-avatar"),j=(0,t.up)("q-btn"),H=(0,t.up)("q-item-section"),S=(0,t.up)("q-item"),A=(0,t.up)("q-space"),T=(0,t.up)("q-tooltip"),$=(0,t.up)("q-toolbar"),R=(0,t.up)("q-separator"),E=(0,t.up)("q-toolbar-title"),L=(0,t.up)("q-header"),J=(0,t.up)("q-footer"),O=(0,t.up)("q-input"),K=(0,t.up)("q-form"),Y=(0,t.up)("q-card-section"),B=(0,t.up)("q-page"),N=(0,t.up)("q-page-container"),G=(0,t.up)("q-layout"),M=(0,t.up)("q-dialog"),X=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(B,{class:"q-pa-sm bg-white"},{default:(0,t.w5)((()=>[(0,t._)("div",x,[(0,t._)("div",C,[(0,t.Wm)(Q,{class:"no-shadow",bordered:""},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{modelValue:r.value,"onUpdate:modelValue":n[3]||(n[3]=e=>r.value=e),dense:"",class:"bg-grey-3",align:"justify"},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{onClick:n[0]||(n[0]=e=>m.value={}),name:"all",icon:"person",class:"text-capitalize",label:"Discover People"}),(0,t.Wm)(c,{onClick:n[1]||(n[1]=e=>m.value={}),name:"friends",icon:"diversity_3",class:"text-capitalize",label:"Friends"}),(0,t.Wm)(c,{onClick:n[2]||(n[2]=e=>m.value={}),name:"favorites",icon:"group_add",class:"text-capitalize",label:"Friend Requests"},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{color:"red",floating:""},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(u.value.length),1)])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(Z,{modelValue:r.value,"onUpdate:modelValue":n[4]||(n[4]=e=>r.value=e),animated:"",class:"bg-white"},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{name:"all",class:"q-pa-none full-height"},{default:(0,t.w5)((()=>[(0,t.Wm)(q,null,{default:(0,t.w5)((()=>[(0,t.Wm)(w,{header:"",class:"text-center"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(a.value.length)+" People",1)])),_:1}),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.value,((e,l)=>((0,t.wg)(),(0,t.iD)("span",{key:l,onClick:l=>m.value=e},[(0,t.Wm)(y,{avatar:e.avatar,name:e.name,position:e.position},null,8,["avatar","name","position"])],8,D)))),128))])),_:1})])),_:1}),(0,t.Wm)(h,{name:"favorites",class:"q-pa-none"},{default:(0,t.w5)((()=>[(0,t.Wm)(q,null,{default:(0,t.w5)((()=>[(0,t.Wm)(w,{header:"",class:"text-center"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(u.value.length)+" Friend Requests",1)])),_:1}),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(u.value,((e,l)=>((0,t.wg)(),(0,t.iD)("span",{key:l,onClick:l=>m.value=e},[(0,t.Wm)(y,{avatar:e.avatar,name:e.name,position:e.position},null,8,["avatar","name","position"])],8,I)))),128))])),_:1})])),_:1}),(0,t.Wm)(h,{name:"friends",class:"q-pa-none"},{default:(0,t.w5)((()=>[(0,t.Wm)(q,null,{default:(0,t.w5)((()=>[(0,t.Wm)(w,{header:"",class:"text-center"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(s.value.length)+" Friends",1)])),_:1}),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.value,((e,l)=>((0,t.wg)(),(0,t.iD)("span",{key:l,onClick:l=>m.value=e},[(0,t.Wm)(y,{avatar:e.avatar,name:e.name,position:e.position},null,8,["avatar","name","position"])],8,V)))),128))])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})]),0!==Object.keys(m.value).length?((0,t.wg)(),(0,t.iD)("div",z,[(0,t.Wm)(Q,{class:"no-shadow",bordered:""},{default:(0,t.w5)((()=>[(0,t.Wm)($,{class:"text-black"},{default:(0,t.w5)((()=>[(0,t.Wm)(j,{round:"",flat:"",class:"q-pa-sm"},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{size:"80px"},{default:(0,t.w5)((()=>[(0,t._)("img",{src:m.value.avatar},null,8,F)])),_:1})])),_:1}),(0,t.Wm)(S,{class:"q-subtitle-1 q-pl-md"},{default:(0,t.w5)((()=>[(0,t.Wm)(H,null,{default:(0,t.w5)((()=>[(0,t.Wm)(w,{lines:"1"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(m.value.name),1)])),_:1}),(0,t.Wm)(w,{caption:"",lines:"2"},{default:(0,t.w5)((()=>[(0,t._)("span",P,(0,o.zw)(m.value.position),1)])),_:1})])),_:1})])),_:1}),(0,t.Wm)(A),"all"===r.value?((0,t.wg)(),(0,t.j4)(j,{key:0,onClick:n[5]||(n[5]=e=>b(m.value)),label:"Add as friend",flat:"",icon:"person_add",color:"primary"},{default:(0,t.w5)((()=>[(0,t.Wm)(T,null,{default:(0,t.w5)((()=>[(0,t.Uk)("Add as Friend")])),_:1})])),_:1})):(0,t.kq)("",!0),"favorites"===r.value?((0,t.wg)(),(0,t.j4)(j,{key:1,label:"Accept Friend Request",onClick:n[6]||(n[6]=e=>g(m.value)),flat:"",icon:"how_to_reg",color:"primary"},{default:(0,t.w5)((()=>[(0,t.Wm)(T,null,{default:(0,t.w5)((()=>[(0,t.Uk)("Accept Friend Request")])),_:1})])),_:1})):(0,t.kq)("",!0),"favorites"===r.value?((0,t.wg)(),(0,t.j4)(j,{key:2,label:"Decline Friend Request",onClick:n[7]||(n[7]=e=>W(m.value)),flat:"",icon:"person_off",color:"negative"},{default:(0,t.w5)((()=>[(0,t.Wm)(T,null,{default:(0,t.w5)((()=>[(0,t.Uk)("Decline Friend Request")])),_:1})])),_:1})):(0,t.kq)("",!0),"friends"===r.value?((0,t.wg)(),(0,t.j4)(j,{key:3,label:"UnFriend",onClick:n[8]||(n[8]=e=>W(m.value)),flat:"",icon:"how_to_reg",color:"primary"},{default:(0,t.w5)((()=>[(0,t.Wm)(T,null,{default:(0,t.w5)((()=>[(0,t.Uk)("UnFriend")])),_:1})])),_:1})):(0,t.kq)("",!0),"all"===r.value&&"admin"===d.value.position?((0,t.wg)(),(0,t.j4)(j,{key:4,onClick:n[9]||(n[9]=e=>i.value=!0),label:"Edit",flat:"",icon:"edit",color:"secondary"},{default:(0,t.w5)((()=>[(0,t.Wm)(T,null,{default:(0,t.w5)((()=>[(0,t.Uk)("Edit")])),_:1})])),_:1})):(0,t.kq)("",!0),"all"===r.value&&"admin"===d.value.position?((0,t.wg)(),(0,t.j4)(j,{key:5,onClick:n[10]||(n[10]=e=>v(m.value)),label:"Delete",flat:"",icon:"delete",color:"negative"},{default:(0,t.w5)((()=>[(0,t.Wm)(T,null,{default:(0,t.w5)((()=>[(0,t.Uk)("Delete")])),_:1})])),_:1})):(0,t.kq)("",!0),"all"===r.value&&"supervisor"===d.value.position?((0,t.wg)(),(0,t.j4)(j,{key:6,onClick:n[11]||(n[11]=e=>v(m.value)),label:"Delete",flat:"",icon:"delete",color:"negative"},{default:(0,t.w5)((()=>[(0,t.Wm)(T,null,{default:(0,t.w5)((()=>[(0,t.Uk)("Delete")])),_:1})])),_:1})):(0,t.kq)("",!0)])),_:1}),(0,t.Wm)(R),((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(l,((e,a)=>(0,t._)("div",{key:a},[(0,t.Wm)(_,{icon:e.icon,text_color:e.text_color,value:m.value[e["field"]],label:e.label},null,8,["icon","text_color","value","label"]),a!=l.length-1?((0,t.wg)(),(0,t.j4)(R,{key:0,inset:"item"})):(0,t.kq)("",!0)]))),64))])),_:1})])):(0,t.kq)("",!0)]),(0,t.Wm)(M,{modelValue:i.value,"onUpdate:modelValue":n[17]||(n[17]=e=>i.value=e)},{default:(0,t.w5)((()=>[(0,t.Wm)(G,{view:"Lhh lpR fff",container:"",class:"bg-white"},{default:(0,t.w5)((()=>[(0,t.Wm)(L,{class:"bg-primary"},{default:(0,t.w5)((()=>[(0,t.Wm)($,null,{default:(0,t.w5)((()=>[(0,t.Wm)(E,null,{default:(0,t.w5)((()=>[(0,t.Uk)(" Edit User ")])),_:1}),(0,t.wy)((0,t.Wm)(j,{flat:"",round:"",dense:"",icon:"close"},null,512),[[X]])])),_:1})])),_:1}),(0,t.Wm)(J,{class:"bg-transparent"},{default:(0,t.w5)((()=>[(0,t.Wm)($,null,{default:(0,t.w5)((()=>[(0,t.Wm)(E,null,{default:(0,t.w5)((()=>[(0,t.Uk)("Footer")])),_:1}),(0,t.wy)((0,t.Wm)(j,{onClick:n[12]||(n[12]=e=>k()),color:"primary",label:"Save",icon:"save"},null,512),[[X]])])),_:1})])),_:1}),(0,t.Wm)(N,null,{default:(0,t.w5)((()=>[(0,t.Wm)(B,null,{default:(0,t.w5)((()=>[(0,t.Wm)(Q,{flat:""},{default:(0,t.w5)((()=>[(0,t.Wm)(Y,null,{default:(0,t.w5)((()=>[(0,t.Wm)(K,{class:"q-gutter-md"},{default:(0,t.w5)((()=>[(0,t.Wm)(O,{filled:"",modelValue:m.value.name,"onUpdate:modelValue":n[13]||(n[13]=e=>m.value.name=e),label:"Name","lazy-rules":""},null,8,["modelValue"]),(0,t.Wm)(O,{filled:"",modelValue:m.value.website,"onUpdate:modelValue":n[14]||(n[14]=e=>m.value.website=e),label:"Website","lazy-rules":""},null,8,["modelValue"]),(0,t.Wm)(O,{filled:"",modelValue:m.value.phone,"onUpdate:modelValue":n[15]||(n[15]=e=>m.value.phone=e),label:"Phone","lazy-rules":""},null,8,["modelValue"]),(0,t.Wm)(O,{filled:"",modelValue:m.value.address,"onUpdate:modelValue":n[16]||(n[16]=e=>m.value.address=e),label:"Address","lazy-rules":""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}}};var H=a(9885),S=a(4458),A=a(2230),T=a(900),$=a(990),R=a(9800),E=a(4106),L=a(3246),J=a(1663),O=a(8879),K=a(136),Y=a(6858),B=a(926),N=a(2074),G=a(7605),M=a(6602),X=a(1973),ee=a(1378),le=a(2133),ae=a(3190),te=a(8326),oe=a(2543),ne=a(2146);const ue=j,se=ue;w()(j,"components",{QPage:H.Z,QCard:S.Z,QTabs:A.Z,QTab:T.Z,QBadge:$.Z,QTabPanels:R.Z,QTabPanel:E.Z,QList:L.Z,QItemLabel:m.Z,QToolbar:J.Z,QBtn:O.Z,QAvatar:r.Z,QItem:c.Z,QItemSection:d.Z,QSpace:K.Z,QTooltip:Y.Z,QSeparator:B.Z,QDialog:N.Z,QLayout:G.Z,QHeader:M.Z,QToolbarTitle:X.Z,QFooter:ee.Z,QPageContainer:le.Z,QCardSection:ae.Z,QForm:te.Z,QInput:oe.Z}),w()(j,"directives",{ClosePopup:ne.Z})}}]);